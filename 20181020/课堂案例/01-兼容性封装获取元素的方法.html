<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<ul id="list">
			<!--注释节点-->
			哈哈
			<!--注释节点-->
			<li>双节棍</li>
			哈哈
			<!--注释节点-->
			哈哈
			<li id="liQing">青花瓷</li>
			<!--注释节点-->
			哈哈
			<!--注释节点-->
			<li>龙卷风</li>
			<li>星晴</li>
			哈哈
			<!--注释节点-->
			哈哈
		</ul>
		<script type="text/javascript">
			/*
			 * 对象.firstChild 第一个子节点
			 * 高级浏览器: 标签   文本(文本内容或者空格或者换行)  注释
			 * 低版本浏览器: 标签  文本内容(不包括空格和换行)  注释
			 * 
			 * 对象.firstElementChild 第一个子元素 只有高级浏览器能用
			
			 */
			
			var list = document.getElementById('list');
//			console.log(getFirstElementChild(list));
			//console.log(getLastElementChild(list));
			
			var liQing = document.getElementById('liQing');
			
//			console.log(getNextElementSibling(liQing));
			console.log(getPreviousElementSibling(liQing));
			/**
			 * 
			 * @param {Object} obj
			 */
			function getNextElementSibling(obj){
				if(obj.nextElementSibling){
					return obj.nextElementSibling;
				}else{
					var nodeE = obj.nextSibling;
					while(nodeE && nodeE.nodeType != 1){
						nodeE = nodeE.nextSibling;
					}
					return nodeE;
				}
			}
			function getPreviousElementSibling(obj){
				if(obj.previousElementSibling){
					return obj.previousElementSibling;
				}else{
					var nodeE = obj.previousSibling;
					while(nodeE && nodeE.nodeType != 1){
						nodeE = nodeE.previousSibling;
					}
					return nodeE;
				}
			}
			
			
			/**
			 * 兼容性封装获取第一个子元素
			 * @param {元素对象} obj
			 */
			function getFirstElementChild(obj){
				if(obj.firstElementChild){
					return obj.firstElementChild;
				}else{
				//1.获取第一个子节点由于节点包括文本注释元素,我们希望获取的是
				//	第一个子元素
				//2.让获取的第一个子节点去找下一个兄弟节点,直到找到是元素的时候
				//  说明找到的是第一个子元素(标签)
					//obj.firstChild
					var nodeEle = obj.firstChild;
					//判断节点是否有值 && 判断节点的类型是不是不等于1(元素)
					while(nodeEle && nodeEle.nodeType != 1){
						//找下一个兄弟节点,赋值给自己,再去做循环比较
						nodeEle = nodeEle.nextSibling
					}
					//直到找到元素,跳出循环,返回出函数
					return nodeEle;
				}
			}
			
			function getLastElementChild(obj){
				if(obj.lastElementChild){
					return obj.lastElementChild;
				}else{
					var nodeEle = obj.lastChild;
					while(nodeEle && nodeEle.nodeType !=1 ){
						nodeEle = nodeEle.previousSibling;
					}
					return nodeEle;
				}
			}
			//var i = 3;
//			while(false){
//				console.log('哈哈');
//				
//			}
		</script>
	</body>

</html>